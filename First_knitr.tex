\documentclass{article}\usepackage[]{graphicx}\usepackage[]{color}
%% maxwidth is the original width if it is less than linewidth
%% otherwise use linewidth (to make sure the graphics do not exceed the margin)
\makeatletter
\def\maxwidth{ %
  \ifdim\Gin@nat@width>\linewidth
    \linewidth
  \else
    \Gin@nat@width
  \fi
}
\makeatother

\definecolor{fgcolor}{rgb}{0.345, 0.345, 0.345}
\newcommand{\hlnum}[1]{\textcolor[rgb]{0.686,0.059,0.569}{#1}}%
\newcommand{\hlstr}[1]{\textcolor[rgb]{0.192,0.494,0.8}{#1}}%
\newcommand{\hlcom}[1]{\textcolor[rgb]{0.678,0.584,0.686}{\textit{#1}}}%
\newcommand{\hlopt}[1]{\textcolor[rgb]{0,0,0}{#1}}%
\newcommand{\hlstd}[1]{\textcolor[rgb]{0.345,0.345,0.345}{#1}}%
\newcommand{\hlkwa}[1]{\textcolor[rgb]{0.161,0.373,0.58}{\textbf{#1}}}%
\newcommand{\hlkwb}[1]{\textcolor[rgb]{0.69,0.353,0.396}{#1}}%
\newcommand{\hlkwc}[1]{\textcolor[rgb]{0.333,0.667,0.333}{#1}}%
\newcommand{\hlkwd}[1]{\textcolor[rgb]{0.737,0.353,0.396}{\textbf{#1}}}%

\usepackage{framed}
\makeatletter
\newenvironment{kframe}{%
 \def\at@end@of@kframe{}%
 \ifinner\ifhmode%
  \def\at@end@of@kframe{\end{minipage}}%
  \begin{minipage}{\columnwidth}%
 \fi\fi%
 \def\FrameCommand##1{\hskip\@totalleftmargin \hskip-\fboxsep
 \colorbox{shadecolor}{##1}\hskip-\fboxsep
     % There is no \\@totalrightmargin, so:
     \hskip-\linewidth \hskip-\@totalleftmargin \hskip\columnwidth}%
 \MakeFramed {\advance\hsize-\width
   \@totalleftmargin\z@ \linewidth\hsize
   \@setminipage}}%
 {\par\unskip\endMakeFramed%
 \at@end@of@kframe}
\makeatother

\definecolor{shadecolor}{rgb}{.97, .97, .97}
\definecolor{messagecolor}{rgb}{0, 0, 0}
\definecolor{warningcolor}{rgb}{1, 0, 1}
\definecolor{errorcolor}{rgb}{1, 0, 0}
\newenvironment{knitrout}{}{} % an empty environment to be redefined in TeX

\usepackage{alltt}



\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\begin{document}

\section{First Heading}

This is our 1st knitr document

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}
\hlkwd{par}\hlstd{(}\hlkwc{mfrow} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,} \hlnum{2}\hlstd{))}
\hlkwd{plot}\hlstd{(x)}
\hlkwd{plot}\hlstd{(}\hlnum{1}\hlopt{-}\hlstd{x)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/unnamed-chunk-1-1} 
\begin{kframe}\begin{alltt}
\hlkwd{print}\hlstd{(x)}
\end{alltt}
\begin{verbatim}
##  [1]  1  2  3  4  5  6  7  8  9 10
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{kframe}
\begin{alltt}
\hlstd{x} \hlkwb{<-} \hlnum{1}\hlopt{:}\hlnum{10}
\hlkwd{par}\hlstd{(}\hlkwc{mfrow} \hlstd{=} \hlkwd{c}\hlstd{(}\hlnum{1}\hlstd{,} \hlnum{2}\hlstd{))}
\hlkwd{plot}\hlstd{(x)}
\hlkwd{plot}\hlstd{(}\hlnum{1}\hlopt{-}\hlstd{x)}
\end{alltt}
\end{kframe}
\includegraphics[width=\maxwidth]{figure/unnamed-chunk-2-1} 
\begin{kframe}\begin{alltt}
\hlkwd{print}\hlstd{(x)}
\end{alltt}
\end{kframe} [1]  1  2  3  4  5  6  7  8  9 10


% A latex comment



% For tables use 'results = "asis"'
% latex table generated in R 3.1.2 by xtable 1.7-4 package
% Sun Mar 15 17:21:50 2015
\begin{table}[ht]
\centering
\begin{tabular}{rr}
  \hline
 & x \\ 
  \hline
1 &   1 \\ 
  2 &   1 \\ 
  3 &   1 \\ 
  4 &   1 \\ 
  5 &   1 \\ 
  6 &   1 \\ 
  7 &   1 \\ 
  8 &   1 \\ 
  9 &   1 \\ 
  10 &   1 \\ 
   \hline
\end{tabular}
\end{table}


Now use cache to speed up computations.

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}
\includegraphics[width=\maxwidth]{figure/first_cache-1} 

\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
##   [1] -1.207065749  0.277429242  1.084441177 -2.345697703  0.429124689
##   [6]  0.506055892 -0.574739960 -0.546631856 -0.564451999 -0.890037829
##  [11] -0.477192700 -0.998386445 -0.776253895  0.064458817  0.959494059
##  [16] -0.110285494 -0.511009506 -0.911195417 -0.837171680  2.415835178
##  [21]  0.134088220 -0.490685897 -0.440547872  0.459589441 -0.693720247
##  [26] -1.448204910  0.574755721 -1.023655723 -0.015138300 -0.935948601
##  [31]  1.102297546 -0.475593079 -0.709440038 -0.501258061 -1.629093469
##  [36] -1.167619262 -2.180039649 -1.340993192 -0.294293859 -0.465897540
##  [41]  1.449496265 -1.068642724 -0.855364634 -0.280623002 -0.994340076
##  [46] -0.968514318 -1.107318193 -1.251985886 -0.523828119 -0.496849957
##  [51] -1.806031257 -0.582075925 -1.108889624 -1.014962009 -0.162309524
##  [56]  0.563055819  1.647817473 -0.773353424  1.605909629 -1.157808548
##  [61]  0.656588464  2.548991071 -0.034760390 -0.669633580 -0.007604756
##  [66]  1.777084448 -1.138607737  1.367827179  1.329564791  0.336472797
##  [71]  0.006892838 -0.455468738 -0.366523933  0.648286568  2.070270861
##  [76] -0.153398412 -1.390700947 -0.723581777  0.258261762 -0.317059115
##  [81] -0.177789958 -0.169994077 -1.372301886 -0.173787170  0.850232257
##  [86]  0.697608712  0.549997351 -0.402731975 -0.191593770 -1.194527880
##  [91] -0.053158819  0.255196001  1.705964007  1.001513252 -0.495583443
##  [96]  0.355550297 -1.134608044  0.878203627  0.972916753  2.121117105
\end{verbatim}
\end{kframe}
\end{knitrout}

\begin{knitrout}
\definecolor{shadecolor}{rgb}{0.969, 0.969, 0.969}\color{fgcolor}\begin{kframe}
\begin{verbatim}
##  [1]  0.41452353 -0.47471847  0.06599349 -0.50247778 -0.82599859
##  [6]  0.16698928 -0.89626463  0.16818539  0.35496826 -0.05210512
\end{verbatim}
\end{kframe}
\end{knitrout}



\end{document}
